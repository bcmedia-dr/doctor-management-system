# 🏥 醫師管理系統

一個適合 5 人小型團隊協作的醫師資料管理系統，支援雲端部署、權限控制與 Excel 匯出。

## ✨ 功能特色

### 基本功能
- ✅ 醫師基本資料管理（姓名、電話、Email、科別、性別、合作狀態）
- ✅ 搜尋與篩選功能
- ✅ 即時統計儀表板
- ✅ Excel 報表匯出

### 權限控制
- 👔 **管理員**：可新增、編輯、刪除醫師資料
- 👤 **一般用戶**：可新增、編輯醫師資料（無刪除權限）

### 技術架構
- **後端**：Python Flask
- **資料庫**：SQLite（本地）/ PostgreSQL（雲端）
- **前端**：Bootstrap 5 響應式設計
- **部署**：支援 Render.com 免費雲端部署

---

## 🚀 快速開始

### 方法一：本地測試（單人使用）

#### 1. 安裝 Python 套件
```bash
pip install -r requirements.txt
```

#### 2. 初始化資料庫
```bash
python init_db.py
```
這會建立資料庫並匯入 8 筆範例醫師資料

#### 3. 啟動系統
```bash
python app.py
```

#### 4. 開啟瀏覽器
訪問：`http://localhost:8080`

#### 或使用一鍵啟動腳本（macOS/Linux）
```bash
./start.sh
```

---

### 方法二：雲端部署（多人協作）⭐ 推薦

#### 為什麼需要雲端部署？
本地版本的資料庫只存在你的電腦上，其他人無法訪問。雲端部署後：
- ✅ 所有人都能訪問同一個網址
- ✅ 資料即時同步
- ✅ 不需要每個人都安裝 Python
- ✅ 完全免費（使用 Render.com）

#### 部署步驟

##### 步驟 1：上傳到 GitHub

1. 在 GitHub 建立新的 repository
2. 在專案資料夾執行：
```bash
git init
git add .
git commit -m "初始提交"
git remote add origin https://github.com/你的帳號/你的專案名稱.git
git push -u origin main
```

##### 步驟 2：部署到 Render

1. 註冊 [Render.com](https://render.com)（可用 GitHub 帳號登入）

2. 點選 **"New +"** → **"Blueprint"**

3. 連接你的 GitHub repository

4. Render 會自動偵測 `render.yaml` 並開始部署

5. 等待 5-10 分鐘，部署完成後會得到網址：
   ```
   https://your-app-name.onrender.com
   ```

6. **重要：初始化資料庫**
   - 在 Render Dashboard 找到你的服務
   - 點選 **"Shell"** 標籤
   - 執行：`python init_db.py`

7. 把網址分享給同事即可使用！

##### 🎉 部署完成！

現在你的團隊成員都可以：
- 訪問同一個網址
- 即時看到其他人新增/修改的資料
- 不需要安裝任何軟體

---

## 📖 使用指南

### 登入系統

預設帳號：

| 角色 | 帳號 | 密碼 | 權限 |
|------|------|------|------|
| 管理員 | admin | admin123 | 可刪除醫師 |
| 一般用戶 | user | user123 | 無法刪除 |

**⚠️ 重要：部署到雲端後，請立即修改密碼！**

### 修改密碼方法

編輯 `app.py` 的第 43-52 行：
```python
if username == 'admin' and password == '你的新密碼':
    session['logged_in'] = True
    session['is_admin'] = True
```

### 新增更多帳號

如需為每位同事建立獨立帳號，需要：
1. 建立 User 資料表
2. 使用密碼雜湊（bcrypt）
3. 修改登入邏輯

（如需協助，可聯繫開發者）

### 使用介面功能

#### 統計儀表板
- 顯示總醫師數、已簽約、合作中、洽談中數量
- 即時更新

#### 搜尋與篩選
- **搜尋框**：輸入姓名、電話、Email 關鍵字
- **科別篩選**：內科、外科、小兒科等
- **性別篩選**：男、女
- **狀態篩選**：洽談中、已簽約、合作中

#### 醫師管理
- **新增醫師**：點選「+ 新增醫師」按鈕
- **編輯資料**：點選表格中的「編輯」按鈕
- **刪除醫師**：管理員可點選「刪除」按鈕

#### 匯出報表
- 點選「匯出 Excel」按鈕
- 自動下載包含所有醫師資料的 Excel 檔案
- 包含完整格式與標題列

---

## 🔧 進階設定

### 自訂科別選項

編輯 `templates/index.html` 的第 127-136 行和第 237-246 行，新增你需要的科別。

### 新增資料欄位

1. 修改 `app.py` 的 `Doctor` 模型
2. 修改 `templates/index.html` 的表單與列表
3. 重新初始化資料庫

### 修改顏色主題

編輯 `templates/index.html` 的 CSS 樣式：
```css
background: linear-gradient(135deg, #你的顏色1, #你的顏色2);
```

---

## 📊 資料儲存說明

### 本地版本
- 資料存在：`instance/doctors.db`（SQLite 資料庫檔案）
- 只有你的電腦能訪問

### 雲端版本
- 資料存在：Render 提供的 PostgreSQL 資料庫
- 所有人共享同一個資料庫
- 自動備份

---

## 🛡️ 安全建議

1. **立即修改預設密碼**
2. **定期備份資料**（使用「匯出 Excel」功能）
3. **不要將密碼寫在程式碼註解中**
4. **如需公開部署，建議啟用 HTTPS**

---

## ❓ 常見問題

### Q1: 雲端部署後，資料會不會丟失？
A: Render 提供自動備份，但建議定期使用「匯出 Excel」功能備份資料。

### Q2: 免費版有流量限制嗎？
A: Render 免費版每月有 750 小時運行時間，對 5 人小團隊綽綽有餘。

### Q3: 如何新增更多使用者帳號？
A: 目前系統設計為 5 人共用 2 組帳號。如需獨立帳號，請聯繫開發者協助擴充。

### Q4: 可以用手機訪問嗎？
A: 可以！介面使用 Bootstrap 響應式設計，支援手機、平板訪問。

### Q5: 如何停止本地系統？
A: 在終端按 `Ctrl + C` 即可停止。

---

## 📞 技術支援

如遇到任何問題，請：
1. 檢查瀏覽器主控台（F12）的錯誤訊息
2. 查看終端的錯誤訊息
3. 確認網路連線正常

---

## 📝 版本資訊

- **版本**：1.0.0
- **更新日期**：2026-01-19
- **開發者**：Claude AI Assistant

---

## 📄 授權

本專案供內部使用，請勿用於商業用途。

---

## 🎯 未來改進計畫

- [ ] 新增每位同事的獨立帳號系統
- [ ] 支援上傳醫師證照圖片
- [ ] 新增操作歷史記錄
- [ ] 支援資料匯入（從 Excel/CSV）
- [ ] 新增合約到期提醒功能
- [ ] 手機 App 版本

---

**🎉 祝您使用愉快！**
